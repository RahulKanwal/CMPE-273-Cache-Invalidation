{"ast":null,"code":"// Utility functions for handling product images and placeholders\n\n/**\n * Get the appropriate image URL with fallback to placeholder\n * @param {Array|string} images - Array of image URLs or single image URL\n * @param {number} index - Index of the image to get (default: 0)\n * @param {string} size - Size specification for placeholder (e.g., '300x200')\n * @param {string} category - Product category for category-specific placeholders\n * @returns {string} Image URL or placeholder URL\n */\nexport const getProductImage = (images, index = 0, size = '300x200', category = '') => {\n  // Handle array of images\n  if (Array.isArray(images) && images.length > 0 && images[index]) {\n    return images[index];\n  }\n\n  // Handle single image string\n  if (typeof images === 'string' && images.trim()) {\n    return images;\n  }\n\n  // Return category-specific placeholder or generic placeholder\n  return getPlaceholderImage(size, category);\n};\n\n/**\n * Get a placeholder image URL based on category and size\n * @param {string} size - Size specification (e.g., '300x200')\n * @param {string} category - Product category\n * @returns {string} Placeholder image URL\n */\nexport const getPlaceholderImage = (size = '300x200', category = '') => {\n  const categoryIcons = {\n    'Electronics': 'ðŸ“±',\n    'Clothing': 'ðŸ‘•',\n    'Home & Garden': 'ðŸ ',\n    'Books': 'ðŸ“š',\n    'Sports & Outdoors': 'âš½',\n    'Test': 'ðŸ§ª'\n  };\n  const icon = categoryIcons[category] || 'ðŸ›ï¸';\n  const text = category ? `${icon} ${category}` : `${icon} Product`;\n\n  // Use a more professional placeholder service with category-specific styling\n  return `https://via.placeholder.com/${size}/f8f9fa/6c757d?text=${encodeURIComponent(text)}`;\n};\n\n/**\n * Check if an image URL is valid (basic validation)\n * @param {string} url - Image URL to validate\n * @returns {boolean} True if URL appears valid\n */\nexport const isValidImageUrl = url => {\n  if (!url || typeof url !== 'string') return false;\n  try {\n    new URL(url);\n    return /\\.(jpg|jpeg|png|gif|webp|svg)$/i.test(url) || url.includes('placeholder');\n  } catch {\n    return false;\n  }\n};\n\n/**\n * Get all valid images from a product, filtering out invalid URLs\n * @param {Object} product - Product object\n * @returns {Array} Array of valid image URLs\n */\nexport const getValidProductImages = product => {\n  if (!product.images || !Array.isArray(product.images)) {\n    return [];\n  }\n  return product.images.filter(isValidImageUrl);\n};\n\n/**\n * Handle image load error by setting a fallback placeholder\n * @param {Event} event - Image error event\n * @param {string} category - Product category for fallback\n * @param {string} size - Size for fallback placeholder\n */\nexport const handleImageError = (event, category = '', size = '300x200') => {\n  event.target.src = getPlaceholderImage(size, category);\n  event.target.onerror = null; // Prevent infinite loop\n};","map":{"version":3,"names":["getProductImage","images","index","size","category","Array","isArray","length","trim","getPlaceholderImage","categoryIcons","icon","text","encodeURIComponent","isValidImageUrl","url","URL","test","includes","getValidProductImages","product","filter","handleImageError","event","target","src","onerror"],"sources":["/Users/spartan/Desktop/CMPE 273 Project/eds-lite/marketplace-ui/src/utils/imageUtils.js"],"sourcesContent":["// Utility functions for handling product images and placeholders\n\n/**\n * Get the appropriate image URL with fallback to placeholder\n * @param {Array|string} images - Array of image URLs or single image URL\n * @param {number} index - Index of the image to get (default: 0)\n * @param {string} size - Size specification for placeholder (e.g., '300x200')\n * @param {string} category - Product category for category-specific placeholders\n * @returns {string} Image URL or placeholder URL\n */\nexport const getProductImage = (images, index = 0, size = '300x200', category = '') => {\n  // Handle array of images\n  if (Array.isArray(images) && images.length > 0 && images[index]) {\n    return images[index];\n  }\n  \n  // Handle single image string\n  if (typeof images === 'string' && images.trim()) {\n    return images;\n  }\n  \n  // Return category-specific placeholder or generic placeholder\n  return getPlaceholderImage(size, category);\n};\n\n/**\n * Get a placeholder image URL based on category and size\n * @param {string} size - Size specification (e.g., '300x200')\n * @param {string} category - Product category\n * @returns {string} Placeholder image URL\n */\nexport const getPlaceholderImage = (size = '300x200', category = '') => {\n  const categoryIcons = {\n    'Electronics': 'ðŸ“±',\n    'Clothing': 'ðŸ‘•',\n    'Home & Garden': 'ðŸ ',\n    'Books': 'ðŸ“š',\n    'Sports & Outdoors': 'âš½',\n    'Test': 'ðŸ§ª'\n  };\n  \n  const icon = categoryIcons[category] || 'ðŸ›ï¸';\n  const text = category ? `${icon} ${category}` : `${icon} Product`;\n  \n  // Use a more professional placeholder service with category-specific styling\n  return `https://via.placeholder.com/${size}/f8f9fa/6c757d?text=${encodeURIComponent(text)}`;\n};\n\n/**\n * Check if an image URL is valid (basic validation)\n * @param {string} url - Image URL to validate\n * @returns {boolean} True if URL appears valid\n */\nexport const isValidImageUrl = (url) => {\n  if (!url || typeof url !== 'string') return false;\n  \n  try {\n    new URL(url);\n    return /\\.(jpg|jpeg|png|gif|webp|svg)$/i.test(url) || url.includes('placeholder');\n  } catch {\n    return false;\n  }\n};\n\n/**\n * Get all valid images from a product, filtering out invalid URLs\n * @param {Object} product - Product object\n * @returns {Array} Array of valid image URLs\n */\nexport const getValidProductImages = (product) => {\n  if (!product.images || !Array.isArray(product.images)) {\n    return [];\n  }\n  \n  return product.images.filter(isValidImageUrl);\n};\n\n/**\n * Handle image load error by setting a fallback placeholder\n * @param {Event} event - Image error event\n * @param {string} category - Product category for fallback\n * @param {string} size - Size for fallback placeholder\n */\nexport const handleImageError = (event, category = '', size = '300x200') => {\n  event.target.src = getPlaceholderImage(size, category);\n  event.target.onerror = null; // Prevent infinite loop\n};"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,eAAe,GAAGA,CAACC,MAAM,EAAEC,KAAK,GAAG,CAAC,EAAEC,IAAI,GAAG,SAAS,EAAEC,QAAQ,GAAG,EAAE,KAAK;EACrF;EACA,IAAIC,KAAK,CAACC,OAAO,CAACL,MAAM,CAAC,IAAIA,MAAM,CAACM,MAAM,GAAG,CAAC,IAAIN,MAAM,CAACC,KAAK,CAAC,EAAE;IAC/D,OAAOD,MAAM,CAACC,KAAK,CAAC;EACtB;;EAEA;EACA,IAAI,OAAOD,MAAM,KAAK,QAAQ,IAAIA,MAAM,CAACO,IAAI,CAAC,CAAC,EAAE;IAC/C,OAAOP,MAAM;EACf;;EAEA;EACA,OAAOQ,mBAAmB,CAACN,IAAI,EAAEC,QAAQ,CAAC;AAC5C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMK,mBAAmB,GAAGA,CAACN,IAAI,GAAG,SAAS,EAAEC,QAAQ,GAAG,EAAE,KAAK;EACtE,MAAMM,aAAa,GAAG;IACpB,aAAa,EAAE,IAAI;IACnB,UAAU,EAAE,IAAI;IAChB,eAAe,EAAE,IAAI;IACrB,OAAO,EAAE,IAAI;IACb,mBAAmB,EAAE,GAAG;IACxB,MAAM,EAAE;EACV,CAAC;EAED,MAAMC,IAAI,GAAGD,aAAa,CAACN,QAAQ,CAAC,IAAI,KAAK;EAC7C,MAAMQ,IAAI,GAAGR,QAAQ,GAAG,GAAGO,IAAI,IAAIP,QAAQ,EAAE,GAAG,GAAGO,IAAI,UAAU;;EAEjE;EACA,OAAO,+BAA+BR,IAAI,uBAAuBU,kBAAkB,CAACD,IAAI,CAAC,EAAE;AAC7F,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAME,eAAe,GAAIC,GAAG,IAAK;EACtC,IAAI,CAACA,GAAG,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE,OAAO,KAAK;EAEjD,IAAI;IACF,IAAIC,GAAG,CAACD,GAAG,CAAC;IACZ,OAAO,iCAAiC,CAACE,IAAI,CAACF,GAAG,CAAC,IAAIA,GAAG,CAACG,QAAQ,CAAC,aAAa,CAAC;EACnF,CAAC,CAAC,MAAM;IACN,OAAO,KAAK;EACd;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,qBAAqB,GAAIC,OAAO,IAAK;EAChD,IAAI,CAACA,OAAO,CAACnB,MAAM,IAAI,CAACI,KAAK,CAACC,OAAO,CAACc,OAAO,CAACnB,MAAM,CAAC,EAAE;IACrD,OAAO,EAAE;EACX;EAEA,OAAOmB,OAAO,CAACnB,MAAM,CAACoB,MAAM,CAACP,eAAe,CAAC;AAC/C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMQ,gBAAgB,GAAGA,CAACC,KAAK,EAAEnB,QAAQ,GAAG,EAAE,EAAED,IAAI,GAAG,SAAS,KAAK;EAC1EoB,KAAK,CAACC,MAAM,CAACC,GAAG,GAAGhB,mBAAmB,CAACN,IAAI,EAAEC,QAAQ,CAAC;EACtDmB,KAAK,CAACC,MAAM,CAACE,OAAO,GAAG,IAAI,CAAC,CAAC;AAC/B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}