{"ast":null,"code":"// Utility functions for handling product images and placeholders\n\n/**\n * Get the appropriate image URL with fallback to placeholder\n * @param {Array|string} images - Array of image URLs or single image URL\n * @param {number} index - Index of the image to get (default: 0)\n * @param {string} size - Size specification for placeholder (e.g., '300x200')\n * @param {string} category - Product category for category-specific placeholders\n * @returns {string} Image URL or placeholder URL\n */\nexport const getProductImage = (images, index = 0, size = '300x200', category = '') => {\n  // Handle array of images\n  if (Array.isArray(images) && images.length > 0 && images[index] && isValidImageUrl(images[index])) {\n    return images[index];\n  }\n\n  // Handle single image string\n  if (typeof images === 'string' && images.trim() && isValidImageUrl(images)) {\n    return images;\n  }\n\n  // Return category-specific placeholder or generic placeholder\n  return getPlaceholderImage(size, category);\n};\n\n/**\n * Get a placeholder image URL based on category and size\n * @param {string} size - Size specification (e.g., '300x200')\n * @param {string} category - Product category\n * @returns {string} Placeholder image URL\n */\nexport const getPlaceholderImage = (size = '300x200', category = '') => {\n  const categoryConfig = {\n    'Electronics': {\n      icon: 'ðŸ“±',\n      bg: 'e3f2fd',\n      color: '1976d2'\n    },\n    'Clothing': {\n      icon: 'ðŸ‘•',\n      bg: 'fce4ec',\n      color: 'c2185b'\n    },\n    'Home & Garden': {\n      icon: 'ðŸ ',\n      bg: 'e8f5e8',\n      color: '388e3c'\n    },\n    'Books': {\n      icon: 'ðŸ“š',\n      bg: 'fff3e0',\n      color: 'f57c00'\n    },\n    'Sports & Outdoors': {\n      icon: 'âš½',\n      bg: 'f3e5f5',\n      color: '7b1fa2'\n    },\n    'Test': {\n      icon: 'ðŸ§ª',\n      bg: 'e0f2f1',\n      color: '00695c'\n    }\n  };\n  const config = categoryConfig[category] || {\n    icon: 'ðŸ›ï¸',\n    bg: 'f8f9fa',\n    color: '6c757d'\n  };\n  const text = category ? `${config.icon} ${category}` : `${config.icon} Product`;\n\n  // Use category-specific colors for better visual distinction\n  return `https://via.placeholder.com/${size}/${config.bg}/${config.color}?text=${encodeURIComponent(text)}`;\n};\n\n/**\n * Check if an image URL is valid (basic validation)\n * @param {string} url - Image URL to validate\n * @returns {boolean} True if URL appears valid\n */\nexport const isValidImageUrl = url => {\n  if (!url || typeof url !== 'string') return false;\n  try {\n    const urlObj = new URL(url);\n    // Accept any valid HTTP/HTTPS URL - let the browser handle if it's actually an image\n    return urlObj.protocol === 'http:' || urlObj.protocol === 'https:';\n  } catch {\n    return false;\n  }\n};\n\n/**\n * Get all valid images from a product, filtering out invalid URLs\n * @param {Object} product - Product object\n * @returns {Array} Array of valid image URLs\n */\nexport const getValidProductImages = product => {\n  if (!product.images || !Array.isArray(product.images)) {\n    return [];\n  }\n  return product.images.filter(isValidImageUrl);\n};\n\n/**\n * Handle image load error by setting a fallback placeholder\n * @param {Event} event - Image error event\n * @param {string} category - Product category for fallback\n * @param {string} size - Size for fallback placeholder\n */\nexport const handleImageError = (event, category = '', size = '300x200') => {\n  event.target.src = getPlaceholderImage(size, category);\n  event.target.onerror = null; // Prevent infinite loop\n};","map":{"version":3,"names":["getProductImage","images","index","size","category","Array","isArray","length","isValidImageUrl","trim","getPlaceholderImage","categoryConfig","icon","bg","color","config","text","encodeURIComponent","url","urlObj","URL","protocol","getValidProductImages","product","filter","handleImageError","event","target","src","onerror"],"sources":["/Users/spartan/Desktop/CMPE 273 Project/eds-lite/marketplace-ui/src/utils/imageUtils.js"],"sourcesContent":["// Utility functions for handling product images and placeholders\n\n/**\n * Get the appropriate image URL with fallback to placeholder\n * @param {Array|string} images - Array of image URLs or single image URL\n * @param {number} index - Index of the image to get (default: 0)\n * @param {string} size - Size specification for placeholder (e.g., '300x200')\n * @param {string} category - Product category for category-specific placeholders\n * @returns {string} Image URL or placeholder URL\n */\nexport const getProductImage = (images, index = 0, size = '300x200', category = '') => {\n  // Handle array of images\n  if (Array.isArray(images) && images.length > 0 && images[index] && isValidImageUrl(images[index])) {\n    return images[index];\n  }\n  \n  // Handle single image string\n  if (typeof images === 'string' && images.trim() && isValidImageUrl(images)) {\n    return images;\n  }\n  \n  // Return category-specific placeholder or generic placeholder\n  return getPlaceholderImage(size, category);\n};\n\n/**\n * Get a placeholder image URL based on category and size\n * @param {string} size - Size specification (e.g., '300x200')\n * @param {string} category - Product category\n * @returns {string} Placeholder image URL\n */\nexport const getPlaceholderImage = (size = '300x200', category = '') => {\n  const categoryConfig = {\n    'Electronics': { icon: 'ðŸ“±', bg: 'e3f2fd', color: '1976d2' },\n    'Clothing': { icon: 'ðŸ‘•', bg: 'fce4ec', color: 'c2185b' },\n    'Home & Garden': { icon: 'ðŸ ', bg: 'e8f5e8', color: '388e3c' },\n    'Books': { icon: 'ðŸ“š', bg: 'fff3e0', color: 'f57c00' },\n    'Sports & Outdoors': { icon: 'âš½', bg: 'f3e5f5', color: '7b1fa2' },\n    'Test': { icon: 'ðŸ§ª', bg: 'e0f2f1', color: '00695c' }\n  };\n  \n  const config = categoryConfig[category] || { icon: 'ðŸ›ï¸', bg: 'f8f9fa', color: '6c757d' };\n  const text = category ? `${config.icon} ${category}` : `${config.icon} Product`;\n  \n  // Use category-specific colors for better visual distinction\n  return `https://via.placeholder.com/${size}/${config.bg}/${config.color}?text=${encodeURIComponent(text)}`;\n};\n\n/**\n * Check if an image URL is valid (basic validation)\n * @param {string} url - Image URL to validate\n * @returns {boolean} True if URL appears valid\n */\nexport const isValidImageUrl = (url) => {\n  if (!url || typeof url !== 'string') return false;\n  \n  try {\n    const urlObj = new URL(url);\n    // Accept any valid HTTP/HTTPS URL - let the browser handle if it's actually an image\n    return urlObj.protocol === 'http:' || urlObj.protocol === 'https:';\n  } catch {\n    return false;\n  }\n};\n\n/**\n * Get all valid images from a product, filtering out invalid URLs\n * @param {Object} product - Product object\n * @returns {Array} Array of valid image URLs\n */\nexport const getValidProductImages = (product) => {\n  if (!product.images || !Array.isArray(product.images)) {\n    return [];\n  }\n  \n  return product.images.filter(isValidImageUrl);\n};\n\n/**\n * Handle image load error by setting a fallback placeholder\n * @param {Event} event - Image error event\n * @param {string} category - Product category for fallback\n * @param {string} size - Size for fallback placeholder\n */\nexport const handleImageError = (event, category = '', size = '300x200') => {\n  event.target.src = getPlaceholderImage(size, category);\n  event.target.onerror = null; // Prevent infinite loop\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}